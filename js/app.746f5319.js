(function(){"use strict";var e={483:function(e,t,r){var n=r(9242),o=r(3396);function i(e,t,r,n,i,u){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a)}var u={name:"App"},a=r(89);const s=(0,a.Z)(u,[["render",i]]);var l=s,c=r(2483),d=r(7139);const m={class:"m-5"},p={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},b=(0,o._)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-state"}," 学年 ",-1),g={class:"relative"},h=(0,o._)("option",{value:"1"},"１年",-1),f=(0,o._)("option",{value:"2"},"２年",-1),v=(0,o._)("option",{value:"3"},"３年",-1),_=[h,f,v],w={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},y=(0,o._)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-state"}," クラス ",-1),N={class:"relative"},k=(0,o.uE)('<option value="1">１組</option><option value="2">２組</option><option value="3">３組</option><option value="4">４組</option><option value="5">５組</option><option value="6">６組</option><option value="7">７組</option><option value="8">８組</option><option value="9">９組</option>',9),x=[k],C={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},q=(0,o._)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-state"}," 出席番号 ",-1),T={class:"relative"},D=["value"];function O(e,t,r,i,u,a){const s=(0,o.up)("MenuCard"),l=(0,o.up)("DefaultButton"),c=(0,o.up)("Qrcode");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o.Uk)(' import MenuBox from "./Menu-Box.vue"; '),(0,o._)("div",p,[b,(0,o._)("div",g,[(0,o.wy)((0,o._)("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state","onUpdate:modelValue":t[0]||(t[0]=e=>u.gradeNumber=e)},_,512),[[n.bM,u.gradeNumber]])])]),(0,o._)("div",w,[y,(0,o._)("div",N,[(0,o.wy)((0,o._)("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state","onUpdate:modelValue":t[1]||(t[1]=e=>u.classNumber=e)},x,512),[[n.bM,u.classNumber]])])]),(0,o._)("div",C,[q,(0,o._)("div",T,[(0,o.wy)((0,o._)("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state","onUpdate:modelValue":t[2]||(t[2]=e=>u.studentNumber=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.studentNumberList,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,d.zw)(e),9,D)))),128))],512),[[n.bM,u.studentNumber]])])]),(0,o.Wm)(s,{menuTitle:"ポップコーン",price:"20",quantity:u.popcorn_number,onChild_click:t[3]||(t[3]=e=>u.popcorn_number+=e)},null,8,["quantity"]),(0,o.Wm)(s,{menuTitle:"大学芋",price:"100",quantity:u.potato_number,onChild_click:t[4]||(t[4]=e=>u.potato_number+=e)},null,8,["quantity"]),(0,o.Wm)(s,{menuTitle:"ワッフル",price:"60",quantity:u.waffle_number,onChild_click:t[5]||(t[5]=e=>u.waffle_number+=e)},null,8,["quantity"]),(0,o.Wm)(s,{menuTitle:"バニラアイス",price:"30",quantity:u.ice_number,onChild_click:t[6]||(t[6]=e=>u.ice_number+=e)},null,8,["quantity"]),(0,o.Wm)(s,{menuTitle:"ファンタオレンジ",price:"30",quantity:u.fanta_number,onChild_click:t[7]||(t[7]=e=>u.fanta_number+=e)},null,8,["quantity"]),(0,o.Wm)(l,{message:"確認",onClick:(0,n.iM)(a.confirmedFunc,["stop"])},null,8,["onClick"]),(0,o.Wm)(c,{inputText:u.qrcodeText},null,8,["inputText"])])}const R=["src"];function z(e,t,r,n,i,u){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,(0,d.zw)(r.menuTitle),1),(0,o._)("img",{src:r.img,alt:""},null,8,R),(0,o._)("p",null,"￥"+(0,d.zw)(r.price),1),(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("Child_click",-1))},"ー"),(0,o._)("p",null,(0,d.zw)(r.quantity),1),(0,o._)("button",{onClick:t[1]||(t[1]=t=>e.$emit("Child_click",1))},"＋")])}var S={props:["menuTitle","img","price","quantity"]};const E=(0,a.Z)(S,[["render",z]]);var M=E;function W(e,t,r,n,i,u){return(0,o.wg)(),(0,o.iD)("button",null,(0,d.zw)(r.message),1)}var F={props:["message"]};const L=(0,a.Z)(F,[["render",W]]);var Z=L;function j(e,t,r,n,i,u){const a=(0,o.up)("vue-qrcode");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("p",null,(0,d.zw)(i.targetText),1),i.targetText?((0,o.wg)(),(0,o.j4)(a,{key:0,value:i.targetText,options:i.option,tag:"img"},null,8,["value","options"])):(0,o.kq)("",!0)])}var B=r(2175),P={components:{VueQrcode:B.Z},props:["inputText"],data(){return{targetText:"",option:{errorCorrectionLevel:"M",maskPattern:0,margin:10,scale:2,width:300,color:{dark:"#000000FF",light:"#FFFFFFFF"}}}},watch:{inputText:function(e){this.targetText=e}}};const U=(0,a.Z)(P,[["render",j]]);var A=U,I={data(){return{studentNumberList:[...Array(45)].map(((e,t)=>t)),gradeNumber:"",classNumber:"",studentNumber:"",popcorn_number:0,potato_number:0,waffle_number:0,ice_number:0,fanta_number:0,customerData:"",reservationNumber:"",qrcodeText:""}},components:{MenuCard:M,DefaultButton:Z,Qrcode:A},methods:{confirmedFunc(){console.log("確認しました"),this.customerData="",this.reservationNumber=Math.floor(9e3*Math.random())+1e3,this.studentNumber<10?this.studentNumber=`0${String(this.studentNumber)}`:this.studentNumber=String(this.studentNumber),this.customerData=String(this.gradeNumber)+String(this.classNumber)+String(this.studentNumber),this.qrcodeText=String(this.reservationNumber)+this.customerData+ +String(this.popcorn_number)+String(this.potato_number)+String(this.waffle_number)+String(this.ice_number)+String(this.fanta_number)}}};const V=(0,a.Z)(I,[["render",O]]);var H=V;function Q(e,t,r,i,u,a){const s=(0,o.up)("qrcodeReader"),l=(0,o.up)("MenuCard"),c=(0,o.up)("DefaultButton");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:"コードを入力","onUpdate:modelValue":t[0]||(t[0]=e=>u.reservationCode=e)},null,512),[[n.nr,u.reservationCode]]),(0,o.Wm)(s),(0,o._)("p",null,(0,d.zw)(u.reservationNumber),1),(0,o._)("p",null,(0,d.zw)(u.gradeNumber),1),(0,o._)("p",null,(0,d.zw)(u.classNumber),1),(0,o._)("p",null,(0,d.zw)(u.studentNumber),1),(0,o._)("p",null,(0,d.zw)(u.amount),1),(0,o.Wm)(l,{menuTitle:"ポップコーン",price:"20",quantity:u.popcorn_number,onChild_click:t[1]||(t[1]=e=>u.popcorn_number+=e)},null,8,["quantity"]),(0,o.Wm)(l,{menuTitle:"大学芋",price:"100",quantity:u.potato_number,onChild_click:t[2]||(t[2]=e=>u.potato_number+=e)},null,8,["quantity"]),(0,o.Wm)(l,{menuTitle:"ワッフル",price:"60",quantity:u.waffle_number,onChild_click:t[3]||(t[3]=e=>u.waffle_number+=e)},null,8,["quantity"]),(0,o.Wm)(l,{menuTitle:"バニラアイス",price:"30",quantity:u.ice_number,onChild_click:t[4]||(t[4]=e=>u.ice_number+=e)},null,8,["quantity"]),(0,o.Wm)(l,{menuTitle:"ファンタオレンジ",price:"30",quantity:u.fanta_number,onChild_click:t[5]||(t[5]=e=>u.fanta_number+=e)},null,8,["quantity"]),(0,o.Wm)(c,{message:"取引確定",onClick:(0,n.iM)(a.order,["stop"])},null,8,["onClick"])])}const $={class:"error"},J={class:"decode-result"};function K(e,t,r,n,i,u){const a=(0,o.up)("qrcode-stream");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("p",$,(0,d.zw)(i.error),1),(0,o._)("p",J,[(0,o.Uk)("Last result: "),(0,o._)("b",null,(0,d.zw)(i.result),1)]),(0,o.Wm)(a,{onDecode:u.onDecode,onInit:u.onInit},null,8,["onDecode","onInit"])])}var Y=r(2669),G=r.n(Y),X={components:{"qrcode-stream":G()},data(){return{result:"",error:""}},methods:{onDecode(e){this.result=e},async onInit(e){try{await e}catch(t){"NotAllowedError"===t.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===t.name?this.error="ERROR: no camera on this device":"NotSupportedError"===t.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===t.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===t.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===t.name&&(this.error="ERROR: Stream API is not supported in this browser")}}}};const ee=(0,a.Z)(X,[["render",K]]);var te=ee;const re="ws://localhost:3000/",ne="ishiyama",oe=new WebSocket(re,ne);oe.addEventListener("error",(()=>{console.log("error")})),oe.addEventListener("close",(()=>{console.log("close")}));const ie=(e,t)=>{var r=JSON.stringify({key:e,data:t});oe.send(r)};var ue={sendMessage:ie,socket:oe},ae={components:{MenuCard:M,qrcodeReader:te,DefaultButton:Z},data(){return{reservationCode:"",amount:0,reservationNumber:"",gradeNumber:"",classNumber:"",studentNumber:"",popcorn_number:0,potato_number:0,waffle_number:0,ice_number:0,fanta_number:0}},watch:{reservationCode(){this.getOrderData()}},methods:{getOrderData(){this.reservationNumber=this.reservationCode.substring(0,4),this.gradeNumber=this.reservationCode.substring(4,5),this.classNumber=this.reservationCode.substring(5,6),this.studentNumber=this.reservationCode.substring(6,8),this.popcorn_number=this.reservationCode.substring(8,9),this.potato_number=this.reservationCode.substring(9,10),this.waffle_number=this.reservationCode.substring(10,11),this.ice_number=this.reservationCode.substring(11,12),this.fanta_number=this.reservationCode.substring(12,13),this.amount=20*Number(this.popcorn_number)+100*Number(this.potato_number)+60*Number(this.waffle_number)+60*Number(this.ice_number)+30*Number(this.fanta_number)},order(){ue.sendMessage("order",{reservationNo:this.reservationNumber,grade:this.gradeNumber,class:this.classNumber,studentNo:this.studentNumber,popcorn:this.popcorn_number,potato:this.potato_number,waffle:this.waffle_number,ice:this.ice_number,fanta:this.fanta_number,amount:this.amount})}}};const se=(0,a.Z)(ae,[["render",Q]]);var le=se;function ce(e,t,r,n,i,u){return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tradingList,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("p",null,(0,d.zw)(e.id),1),(0,o._)("p",null,(0,d.zw)(e.grade),1),(0,o._)("p",null,(0,d.zw)(e.class),1),(0,o._)("p",null,(0,d.zw)(e.number),1),(0,o._)("p",null,(0,d.zw)(e.transaction),1),(0,o._)("p",null,(0,d.zw)(e.amount),1)])))),128))])}var de={data(){return{tradingList:[]}},mounted(){ue.socket.addEventListener("open",(()=>{ue.sendMessage("getTrading",""),console.log("faskfapo")})),ue.socket.addEventListener("message",(e=>{this.tradingList=JSON.parse(e.data)}))}};const me=(0,a.Z)(de,[["render",ce]]);var pe=me;const be=[{path:"/reservation",component:H},{path:"/order",component:le},{path:"/dashboard",component:pe}],ge=(0,c.p7)({history:(0,c.PO)("/"),routes:be});var he=ge;(0,n.ri)(l).use(he).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var u=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var a=!0,s=0;s<n.length;s++)(!1&i||u>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(a=!1,i<u&&(u=i));if(a){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,u=n[0],a=n[1],s=n[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var c=s(r)}for(t&&t(n);l<u.length;l++)i=u[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(483)}));n=r.O(n)})();
//# sourceMappingURL=app.746f5319.js.map